<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø£Ø¨Ù‚Ø±Ø§Ø· Ù„Ù„ØªØ¯Ø±ÙŠØ¨</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        .brand-green { color: #0f5132; }
        .brand-green-bg { background-color: #198754; }
        .brand-green-bg:hover { background-color: #157347; }
        .hta-logo { max-height: 80px; }
        .registration-fields { display: none; }
        .payment-card { transition: transform 0.2s; }
        .payment-card:hover { transform: translateY(-5px); }
        form ol {
            padding-right: 1.2rem;
            padding-left: 0;
        }
        .instructor-name, .cpd-points-display {
            font-size: 0.9em;
            color: #6c757d;
            display: block;
            margin-top: 2px;
        }
        .custom-country-code-dropdown {
            flex: 0 0 auto;
            width: 180px;
            position: relative;
        }
        .custom-country-code-dropdown .form-control {
            padding-right: 2.5rem;
            padding-left: 0.75rem;
        }
        .custom-country-code-dropdown::after {
            content: '\f078';
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            right: 1rem;
            left: auto;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #6c757d;
        }
        .country-list {
            position: absolute;
            top: 100%;
            right: 0;
            left: 0;
            border: 1px solid #ced4da;
            border-top: none;
            background-color: white;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            list-style-type: none;
            padding: 0;
            margin: 0;
            border-radius: 0 0 0.375rem 0.375rem;
            text-align: right;
        }
        .country-list li {
            padding: 0.6rem 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .country-list li:hover, .country-list li[aria-selected="true"] {
            background-color: #f8f9fa;
        }
        .country-list li.selected {
            background-color: #e9ecef;
            font-weight: bold;
        }
        #phone-number {
             direction: ltr;
             text-align: left;
             flex: 1 1 auto;
             width: 1%;
             min-width: 200px;
        }
        #country-code-search {
            width: 100%;
        }
        .input-group {
            direction: ltr;
        }
        #course-selector option i {
             margin-left: 5px;
             margin-right: 0;
        }
        /* Custom Navbar Style */
        .navbar-custom-bg {
            /* Subtle gradient for visual comfort */
            background: linear-gradient(to left, #7c2bc9, #6a0dad);
        }
        /* Style for the nav links to be "dark white" */
        .navbar-custom-bg .navbar-nav .nav-link {
            color: #f8f9fa; /* A light, "dark white" color */
            font-weight: 500; /* Make it slightly bolder for readability */
        }
        .navbar-custom-bg .navbar-nav .nav-link:hover {
            color: #ffffff; /* Make it brighter on hover for better feedback */
        }
        /* Style for the brand name separator */
        .brand-name-en {
            margin-right: 0.5rem;
        }

        /* === Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙŠØ¨Ø¯Ø£ Ù…Ù† Ù‡Ù†Ø§: ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯ === */
        .page-title-wrapper {
            /* ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªÙ… ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
            text-align: center;
            margin-bottom: 1.5rem;
            /* Ø­Ø±ÙƒØ© Ø§Ù„Ø¸Ù‡ÙˆØ± */
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out 0.3s forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-title {
            font-size: 1.75rem; /* Ø­Ø¬Ù… Ø®Ø· Ù…Ù†Ø§Ø³Ø¨ */
            font-weight: 700; /* Ø®Ø· Ø¹Ø±ÙŠØ¶ */
            margin-bottom: 0.25rem;
            line-height: 1.3;
            color: #212529; /* Ù„ÙˆÙ† Ø£Ø³ÙˆØ¯ Ø¯Ø§ÙƒÙ† */
        }

        .page-subtitle {
            font-size: 1.25rem; 
            /* ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªÙ… ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ø³Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø¥Ù„Ù‰ Ø¨Ù†ÙØ³Ø¬ÙŠ ØºØ§Ù…Ù‚ */
            color: #6a0dad; /* Ù„ÙˆÙ† Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ */
            margin-bottom: 0;
            font-weight: 500;
        }
        /* ØªÙ… Ø­Ø°Ù ÙƒÙ„Ø§Ø³ .title-underline Ù…Ù† Ù‡Ù†Ø§ Ù„Ø£Ù†Ù‡ Ù„Ù… ÙŠØ¹Ø¯ Ù…Ø³ØªØ®Ø¯Ù…Ù‹Ø§ */
        /* === Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ === */

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom-bg">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <span class="brand-name-ar">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø£Ø¨Ù‚Ø±Ø§Ø· Ù„Ù„ØªØ¯Ø±ÙŠØ¨</span>
                <span class="brand-name-hta d-inline-block d-lg-none"> | HTA</span>
                <span class="brand-name-en d-none d-lg-inline-block">| Hippocrates Training Academy</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="registration-section" class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-10">
                <div class="card shadow-lg">
                    <div class="card-body p-4 p-md-5">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <!-- === ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¨Ø¯Ø¹ === -->
                                <div class="page-title-wrapper">
                                    <h1 class="page-title">
                                        <!-- ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªÙ… ØªØºÙŠÙŠØ± Ù„ÙˆÙ† ÙƒÙ„Ù…Ø© "Ù…Ù†ØµØ©" Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø³ÙˆØ¯ -->
                                        <span style="color: black;">Ù…Ù†ØµØ©</span> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©
                                    </h1>
                                    <p class="page-subtitle">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø£Ø¨Ù‚Ø±Ø§Ø· Ù„Ù„ØªØ¯Ø±ÙŠØ¨</p>
                                    <!-- ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªÙ… Ø­Ø°Ù Ø§Ù„Ø®Ø· Ø§Ù„Ø²Ø®Ø±ÙÙŠ -->
                                </div>
                                <p class="text-muted" id="course-details-display"></p>
                            </div>
                            <img src="hta-logo.png" alt="Ø´Ø¹Ø§Ø± Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø£Ø¨Ù‚Ø±Ø§Ø·" class="hta-logo" loading="lazy">
                        </div>

                        <div class="mb-4">
                            <label for="course-selector" class="form-label h5">ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø§Ù„ØªÙŠ ØªØ±ØºØ¨ Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù‡Ø§</label>
                            <select class="form-select form-select-lg" id="course-selector" required onchange="onCourseSelect()" disabled>
                                <option value="" disabled selected>... Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© <i class="fas fa-spinner fa-spin"></i></option>
                            </select>
                        </div>

                        <div id="registration-fields" class="registration-fields">
                            <div class="alert alert-info" role="alert">
                                <i class="fas fa-info-circle"></i> <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ù‡Ø§Ù…Ø©:</strong> Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŒ Ø³ØªØ¸Ù‡Ø± Ù„Ùƒ <strong>Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</strong> ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ³Ø¬ÙŠÙ„.
                            </div>

                            <form id="registrationForm" class="g-3" role="form" novalidate>
                                <input type="hidden" id="course-id-input" name="Course ID">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="fullNameAr" class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)</label>
                                        <input type="text" class="form-control" id="fullNameAr" name="Full Name (Arabic)" required aria-describedby="nameAr-help">
                                        <div id="nameAr-help" class="form-text">ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù Ø¹Ø±Ø¨ÙŠØ© ÙÙ‚Ø·.</div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="fullNameEn" class="form-label">Full Name (English)</label>
                                        <input type="text" class="form-control" id="fullNameEn" name="Full Name (English)" required aria-describedby="nameEn-help">
                                        <div id="nameEn-help" class="form-text">Should contain only English letters.</div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                        <input type="email" class="form-control" id="email" name="Email" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="phone-number" class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (ÙˆØ§ØªØ³Ø§Ø¨)</label>
                                        <div class="input-group">
                                             <input type="tel" class="form-control" id="phone-number" name="Phone Number" placeholder="Ù…Ø«Ø§Ù„: 79xxxxxxx" required aria-label="Phone number" aria-describedby="phone-help">
                                            <div class="custom-country-code-dropdown">
                                                <input type="text" class="form-control" id="country-code-search" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø© Ù„Ù„Ø¨Ø­Ø«" autocomplete="off" role="combobox" aria-haspopup="listbox" aria-expanded="false" aria-owns="country-list">
                                                <input type="hidden" id="country-code-value" name="CountryCode" value="+962">
                                                <ul class="country-list" id="country-list" style="display: none;" role="listbox"></ul>
                                            </div>
                                        </div>
                                        <div id="phone-help" class="form-text text-muted">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø¨Ø¯ÙˆÙ† Ø§Ù„ØµÙØ± ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (Ù…Ø«Ø§Ù„: 79xxxxxxx). ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¯ÙˆÙ„Ø© Ø¨ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø¬Ø§ÙˆØ±.</div>
                                    </div>
                                </div>
                                 <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="nationality" class="form-label">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                                        <select class="form-select" id="nationality" name="Nationality" required onchange="toggleOtherNationality(this.value)">
                                            <option value="" disabled selected>Ø§Ø®ØªØ± Ø¬Ù†Ø³ÙŠØªÙƒ</option>
                                            <option value="Ø§Ù„Ø£Ø±Ø¯Ù†">Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                                            <option value="Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©</option>
                                            <option value="Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
                                            <option value="ØªÙˆÙ†Ø³">ØªÙˆÙ†Ø³</option>
                                            <option value="Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                                            <option value="Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±">Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±</option>
                                            <option value="Ø¬ÙŠØ¨ÙˆØªÙŠ">Ø¬ÙŠØ¨ÙˆØªÙŠ</option>
                                            <option value="Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                                            <option value="Ø§Ù„Ø³ÙˆØ¯Ø§Ù†">Ø§Ù„Ø³ÙˆØ¯Ø§Ù†</option>
                                            <option value="Ø³ÙˆØ±ÙŠØ§">Ø³ÙˆØ±ÙŠØ§</option>
                                            <option value="Ø§Ù„ØµÙˆÙ…Ø§Ù„">Ø§Ù„ØµÙˆÙ…Ø§Ù„</option>
                                            <option value="Ø§Ù„Ø¹Ø±Ø§Ù‚">Ø§Ù„Ø¹Ø±Ø§Ù‚</option>
                                            <option value="Ø¹ÙÙ…Ø§Ù†">Ø¹ÙÙ…Ø§Ù†</option>
                                            <option value="ÙÙ„Ø³Ø·ÙŠÙ†">ÙÙ„Ø³Ø·ÙŠÙ†</option>
                                            <option value="Ù‚Ø·Ø±">Ù‚Ø·Ø±</option>
                                            <option value="Ø§Ù„ÙƒÙˆÙŠØª">Ø§Ù„ÙƒÙˆÙŠØª</option>
                                            <option value="Ù„Ø¨Ù†Ø§Ù†">Ù„Ø¨Ù†Ø§Ù†</option>
                                            <option value="Ù„ÙŠØ¨ÙŠØ§">Ù„ÙŠØ¨ÙŠØ§</option>
                                            <option value="Ù…ØµØ±">Ù…ØµØ±</option>
                                            <option value="Ø§Ù„Ù…ØºØ±Ø¨">Ø§Ù„Ù…ØºØ±Ø¨</option>
                                            <option value="Ø§Ù„ÙŠÙ…Ù†">Ø§Ù„ÙŠÙ…Ù†</option>
                                            <option value="Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§">Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§</option>
                                            <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                                        </select>
                                        <div id="other-nationality-field" class="mt-2" style="display:none;">
                                            <input type="text" class="form-control" name="Other Nationality" placeholder="ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø¨Ù„Ø¯Ùƒ">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="degree" class="form-label">Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</label>
                                        <select class="form-select" id="degree" name="Academic Degree">
                                            <option>Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø¹Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© / Student</option>
                                            <option>Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ / Bachelor</option>
                                            <option>Ù…Ø§Ø¬Ø³ØªÙŠØ± / Master</option>
                                            <option>Ø¯ÙƒØªÙˆØ±Ø§Ù‡ / PhD</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="cpd" class="form-label">Ù‡Ù„ ØªØ±ØºØ¨ Ø¨Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠ Ø§Ù„Ù…Ø³ØªÙ…Ø± (CPD)ØŸ</label>
                                    <select class="form-select" id="cpd" name="CPD Request" onchange="toggleCPDFields(this.value)">
                                        <option value="Ù„Ø§">Ù„Ø§</option>
                                        <option value="Ù†Ø¹Ù…">Ù†Ø¹Ù…</option>
                                    </select>
                                </div>

                                <div id="cpd-fields" style="display:none;">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="nationalId" class="form-label">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ</label>
                                            <input type="text" class="form-control" id="nationalId" name="National ID">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="licenseNo" class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù…Ø²Ø§ÙˆÙ„Ø© (ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©)</label>
                                            <input type="text" class="form-control" id="licenseNo" name="License Number">
                                        </div>
                                    </div>
                                    <p class="text-success small">âœ… Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© <span id="cpd-fee-display">5</span> Ø¯Ù†Ø§Ù†ÙŠØ± Ø¥Ù„Ù‰ Ø±Ø³ÙˆÙ… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù…Ù‚Ø§Ø¨Ù„ Ø´Ù‡Ø§Ø¯Ø© CPD.</p>
                                </div>

                                <div class="alert alert-secondary" role="alert">
                                    ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: <strong id="total-fee">...</strong>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-bold">Ø§Ù„ØªØ¹Ù‡Ø¯ ÙˆØ§Ù„Ø¥Ù‚Ø±Ø§Ø±:</label>
                                    <div class="border p-3" style="max-height: 200px; overflow-y: auto; background-color: #f8f9fa; font-size: 0.9rem;">
                                        <p>Ø£ØªØ¹Ù‡Ø¯ Ø£Ù†Ø§ØŒ Ù…Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø¨Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙŠ Ù‚Ù…Øª Ø¨Ø¥Ø¯Ø®Ø§Ù„Ù‡Ø§ ØµØ­ÙŠØ­Ø© ÙˆØ¯Ù‚ÙŠÙ‚Ø©.</p>
                                        <p>ÙƒÙ…Ø§ Ø£Ù‚Ø±Ù‘ Ø¨Ø£Ù†Ù†ÙŠ Ø¹Ù„Ù‰ Ø¯Ø±Ø§ÙŠØ© ØªØ§Ù…Ø© Ø¨Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø§Ù„ØªÙŠ Ø£Ø³Ø¬Ù„ ÙÙŠÙ‡Ø§ØŒ ÙˆÙ…Ø§ Ù‚Ø¯ ØªØªØ¶Ù…Ù†Ù‡ â€“ Ø¥Ù† ÙˆÙØ¬Ø¯ â€“ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø¹Ù…Ù„ÙŠØ© Ø¹Ù„Ù‰ Ù†ÙØ³ÙŠ Ø£Ùˆ Ø¹Ù„Ù‰ Ø§Ù„Ø²Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†ØŒ Ø£Ùˆ ØªØ¯Ø§Ø®Ù„Ø§Øª Ø¶Ù…Ù† Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©.</p>
                                        <p>ÙˆØ£ØªØ¹Ù‡Ø¯ Ø¨Ù…Ø§ ÙŠÙ„ÙŠ:</p>
                                        <ol>
                                            <li>Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø®ØµÙˆØµÙŠØ© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© ÙˆØ§Ø­ØªØ±Ø§Ù… Ø®ØµÙˆØµÙŠØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ† ÙˆØ§Ù„Ø²Ù…Ù„Ø§Ø¡.</li>
                                            <li>Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø­Ø¶ÙˆØ± ÙƒØ§Ù…Ù„ Ù…Ø¯Ø© Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© ÙˆÙÙ‚ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø¹Ù„Ù†.</li>
                                            <li>Ø£ØªÙÙ‡Ù… ÙˆØ£Ù‚Ø±Ù‘ Ø¨Ø£Ù† Ø¹Ø¯Ù… Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø£ÙŠ Ù…Ù† Ø£ÙŠØ§Ù… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ù‚Ø¯ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¹Ø¯Ù… Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© (ÙÙŠ Ø­Ø§Ù„ ÙƒØ§Ù†Øª Ù…ØªÙˆÙØ±Ø© Ù„ØªÙ„Ùƒ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©).</li>
                                            <li>Ø£Ù‚Ø±Ù‘ Ø¨Ø£Ù†Ù†ÙŠ Ø§Ø·Ù„Ø¹Øª Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ØªØºÙŠÙŠØ± Ù„Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø§Ù„ØµØ§Ø¯Ø±Ø© Ø¹Ù† Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø£Ø¨Ù‚Ø±Ø§Ø· Ù„Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„Ù…Ø°ÙƒÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ§Ù„ÙŠØŒ ÙˆØ£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¨Ù†ÙˆØ¯Ù‡Ø§ ÙˆØ´Ø±ÙˆØ·Ù‡Ø§ Ø¯ÙˆÙ† ØªØ­ÙØ¸:
                                                <br>
                                                <a href="https://drive.google.com/open?id=1O5Q2ryIn4Eh5nsQf2Ycn7SytKWDKL0ql&usp=drive_fs" class="brand-green" target="_blank">ğŸ”— Ø³ÙŠØ§Ø³Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ØªØºÙŠÙŠØ± Ù„Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</a>
                                            </li>
                                            <li>Ø£ØªÙÙ‡Ù… Ø£Ù† Ø¨Ø¹Ø¶ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù‚Ø¯ Ù„Ø§ ØªØªØ¶Ù…Ù† Ø´Ù‡Ø§Ø¯Ø© Ù…Ø´Ø§Ø±ÙƒØ© Ø£Ùˆ ØªØ¯Ø±ÙŠØ¨Ù‹Ø§ Ø¹Ù…Ù„ÙŠÙ‹Ø§ØŒ ÙˆØ°Ù„Ùƒ Ø¨Ø­Ø³Ø¨ Ø·Ø¨ÙŠØ¹Ø© ÙƒÙ„ ÙØ¹Ø§Ù„ÙŠØ©.</li>
                                        </ol>
                                        <p><strong>ÙˆØ¨Ø°Ù„Ùƒ Ø£ØªØ­Ù…Ù„ ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø¹Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ù…Ø§ ÙˆØ±Ø¯ Ø£Ø¹Ù„Ø§Ù‡.</strong></p>
                                    </div>
                                </div>

                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="terms" required>
                                    <label class="form-check-label" for="terms">
                                        Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ù‡Ø¯ ÙˆØ§Ù„Ø¥Ù‚Ø±Ø§Ø± Ø£Ø¹Ù„Ø§Ù‡ ÙˆØ£Ø¹Ù„Ù… Ø£Ù† Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù„Ù† ÙŠÙƒØªÙ…Ù„ Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹.
                                    </label>
                                </div>

                                <button type="submit" class="btn brand-green-bg text-white btn-lg w-100">
                                    Ø£Ø±Ø³Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙŠ ÙˆØ§Ø¹Ø±Ø¶ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- !!! ØªÙ…Øª Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù‚Ø³Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ØªØ°ÙŠÙŠÙ„ !!! -->
    <section id="payment-section" class="container my-5" style="display:none;">
        <div class="text-center mb-5">
            <img src="hta-logo.png" alt="Ø´Ø¹Ø§Ø± Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø£Ø¨Ù‚Ø±Ø§Ø·" class="hta-logo mb-3" loading="lazy">
            <h1 class="display-5 brand-green fw-bold">Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ³Ø¬ÙŠÙ„Ùƒ!</h1>
            <p class="lead text-muted">ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø­Ø¯Ù‰ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø­Ø¬Ø² Ù…Ù‚Ø¹Ø¯Ùƒ.</p>
        </div>
        <div class="row g-4">
            <div class="col-md-6">
                <div class="card h-100 shadow payment-card">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-university me-2"></i>Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨Ù†ÙƒÙŠ</h5>
                        <p class="card-text">
                            <strong>Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨:</strong> ACADEMYAT ABQRAT LEL TAALEM<br>
                            <strong>Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨:</strong> 0020174190615101<br>
                            <strong>IBAN:</strong> JO51UBSI1120000020174190615101<br>
                            <strong>SWIFT:</strong> UBSIJOAX
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow payment-card">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-wallet me-2"></i>Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© (Ø²ÙŠÙ† ÙƒØ§Ø´)</h5>
                        <p class="card-text">
                            <strong>Ø§Ù„Ø±Ù‚Ù…:</strong> 00962796100112
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow payment-card">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-mobile-alt me-2"></i>Ø®Ø¯Ù…Ø© CLIQ â€“ Ø¨Ù†Ùƒ Ø§Ù„Ø§ØªØ­Ø§Ø¯</h5>
                        <p class="card-text">
                            <strong>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ¹Ø§Ø±:</strong> HTAJO
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow payment-card">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-money-bill-wave me-2"></i>ØªØ­ÙˆÙŠÙ„ Ø¹Ø¨Ø± Ù…ÙƒØ§ØªØ¨ Ø§Ù„ØµØ±Ø§ÙØ©</h5>
                        <p class="card-text">
                            <strong>Ø§Ù„Ø§Ø³Ù…:</strong> AMER SALEH HUSSIEN AL-HAMDAN<br>
                            <small>(Ø§Ù„Ø¹Ù„Ø§ÙˆÙ†Ø© Ø£Ùˆ Ø£Ø¨Ùˆ Ø´ÙŠØ®Ø©)</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="alert alert-warning mt-5 text-center" role="alert">
            <h5 class="alert-heading"><i class="fas fa-exclamation-triangle me-2"></i>Ù…Ù„Ø§Ø­Ø¸Ø© Ù‡Ø§Ù…Ø©</h5>
            <p class="mb-0">
                ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø© Ø¹Ù† ÙˆØµÙ„ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ <strong>ÙˆØ§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨</strong> Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ø±Ø³Ù…ÙŠÙ‹Ø§. Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§ØªØ³Ø§Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù…: <strong>+962787269996</strong>.
            </p>
        </div>
        <div class="text-center mt-4">
            <a href="https://wa.me/962787269996" target="_blank" class="btn brand-green-bg text-white btn-lg">
                <i class="fab fa-whatsapp me-2"></i> Ø£Ø±Ø³Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
            </a>
        </div>
    </section>

    <footer class="navbar-custom-bg text-white text-center py-4 mt-5">
        <div class="container">
            <p class="mb-2">
                <strong>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø± ÙˆØ§Ù„ØªÙˆØ§ØµÙ„:</strong>
                <a href="https://wa.me/962787269996" target="_blank" class="text-white text-decoration-none mx-2">
                    <i class="fab fa-whatsapp"></i> +962787269996
                </a>
            </p>
            <p class="mb-0">&copy; 2025 Hippocrates Training Academy. All Rights Reserved.</p>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const CSV_SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTQghOdUAW_v2svTLHGwZWpWU2x7tdsE24m8LPOGKFZNlef2q91JD88aEoMF5psdDbJzYZV4TmhoWig/pub?gid=0&single=true&output=csv";

        let coursesDB = {};
        let currentCourse = null;

        const countries = [
             { name: 'Ø£ÙØºØ§Ù†Ø³ØªØ§Ù†', code: '+93' }, { name: 'Ø£Ù„Ø¨Ø§Ù†ÙŠØ§', code: '+355' }, { name: 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±', code: '+213' },
             { name: ' Samoa Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©', code: '+1684' }, { name: 'Ø£Ù†Ø¯ÙˆØ±Ø§', code: '+376' }, { name: 'Ø£Ù†ØºÙˆÙ„Ø§', code: '+244' },
             { name: 'Ø£Ù†ØºÙˆÙŠÙ„Ø§', code: '+1264' }, { name: 'Ø£Ù†ØªØ§Ø±ÙƒØªÙŠÙƒØ§', code: '+672' }, { name: 'Ø£Ù†ØªÙŠØºÙˆØ§ ÙˆØ¨Ø§Ø±Ø¨ÙˆØ¯Ø§', code: '+1268' },
             { name: 'Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†', code: '+54' }, { name: 'Ø£Ø±Ù…ÙŠÙ†ÙŠØ§', code: '+374' }, { name: 'Ø£Ø±ÙˆØ¨Ø§', code: '+297' },
             { name: 'Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§', code: '+61' }, { name: 'Ø§Ù„Ù†Ù…Ø³Ø§', code: '+43' }, { name: 'Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù†', code: '+994' },
             { name: 'Ø§Ù„Ø¨Ù‡Ø§Ù…Ø§', code: '+1242' }, { name: 'Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†', code: '+973' }, { name: 'Ø¨Ù†ØºÙ„Ø§Ø¯ÙŠØ´', code: '+880' },
             { name: 'Ø¨Ø±Ø¨Ø§Ø¯ÙˆØ³', code: '+1246' }, { name: 'Ø¨ÙŠÙ„Ø§Ø±ÙˆØ³ÙŠØ§', code: '+375' }, { name: 'Ø¨Ù„Ø¬ÙŠÙƒØ§', code: '+32' },
             { name: 'Ø¨Ù„ÙŠØ²', code: '+501' }, { name: 'Ø¨Ù†ÙŠÙ†', code: '+229' }, { name: 'Ø¨Ø±Ù…ÙˆØ¯Ø§', code: '+1441' },
             { name: 'Ø¨ÙˆØªØ§Ù†', code: '+975' }, { name: 'Ø¨ÙˆÙ„ÙŠÙÙŠØ§', code: '+591' }, { name: 'Ø§Ù„Ø¨ÙˆØ³Ù†Ø© ÙˆØ§Ù„Ù‡Ø±Ø³Ùƒ', code: '+387' },
             { name: 'Ø¨ÙˆØªØ³ÙˆØ§Ù†Ø§', code: '+267' }, { name: 'Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„', code: '+55' }, { name: 'Ø¥Ù‚Ù„ÙŠÙ… Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ù†Ø¯ÙŠ Ø§Ù„Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ', code: '+246' },
             { name: 'Ø¨Ø±ÙˆÙ†Ø§ÙŠ Ø¯Ø§Ø± Ø§Ù„Ø³Ù„Ø§Ù…', code: '+673' }, { name: 'Ø¨Ù„ØºØ§Ø±ÙŠØ§', code: '+359' }, { name: 'Ø¨ÙˆØ±ÙƒÙŠÙ†Ø§ ÙØ§Ø³Ùˆ', code: '+226' },
             { name: 'Ø¨ÙˆØ±ÙˆÙ†Ø¯ÙŠ', code: '+257' }, { name: 'ÙƒÙ…Ø¨ÙˆØ¯ÙŠØ§', code: '+855' }, { name: 'Ø§Ù„ÙƒØ§Ù…ÙŠØ±ÙˆÙ†', code: '+237' },
             { name: 'ÙƒÙ†Ø¯Ø§', code: '+1' }, { name: 'Ø§Ù„Ø±Ø£Ø³ Ø§Ù„Ø£Ø®Ø¶Ø±', code: '+238' }, { name: 'Ø¬Ø²Ø± ÙƒØ§ÙŠÙ…Ø§Ù†', code: '+1345' },
             { name: 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„ÙˆØ³Ø·Ù‰', code: '+236' }, { name: 'ØªØ´Ø§Ø¯', code: '+235' }, { name: 'ØªØ´ÙŠÙ„ÙŠ', code: '+56' },
             { name: 'Ø§Ù„ØµÙŠÙ†', code: '+86' }, { name: 'Ø¬Ø²ÙŠØ±Ø© Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯', code: '+61' }, { name: 'Ø¬Ø²Ø± ÙƒÙˆÙƒÙˆØ³ (ÙƒÙŠÙ„ÙŠÙ†Øº)', code: '+672' },
             { name: 'ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙŠØ§', code: '+57' }, { name: 'Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±', code: '+269' }, { name: 'Ø¬Ø²Ø± ÙƒÙˆÙƒ', code: '+682' },
             { name: 'ÙƒÙˆØ³ØªØ§Ø±ÙŠÙƒØ§', code: '+506' }, { name: 'Ø³Ø§Ø­Ù„ Ø§Ù„Ø¹Ø§Ø¬', code: '+225' }, { name: 'ÙƒØ±ÙˆØ§ØªÙŠØ§', code: '+385' },
             { name: 'ÙƒÙˆØ¨Ø§', code: '+53' }, { name: 'Ù‚Ø¨Ø±Øµ', code: '+357' }, { name: 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„ØªØ´ÙŠÙƒ', code: '+420' },
             { name: 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„ÙƒÙˆÙ†ØºÙˆ Ø§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ©', code: '+243' }, { name: 'Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ', code: '+45' }, { name: 'Ø¬ÙŠØ¨ÙˆØªÙŠ', code: '+253' },
             { name: 'Ø¯ÙˆÙ…ÙŠÙ†ÙŠÙƒØ§', code: '+1767' }, { name: 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†ÙŠÙƒØ§Ù†', code: '+1809' }, { name: 'Ø§Ù„Ø¥ÙƒÙˆØ§Ø¯ÙˆØ±', code: '+593' },
             { name: 'Ù…ØµØ±', code: '+20' }, { name: 'Ø§Ù„Ø³Ù„ÙØ§Ø¯ÙˆØ±', code: '+503' }, { name: 'ØºÙŠÙ†ÙŠØ§ Ø§Ù„Ø§Ø³ØªÙˆØ§Ø¦ÙŠØ©', code: '+240' },
             { name: 'Ø¥Ø±ÙŠØªØ±ÙŠØ§', code: '+291' }, { name: 'Ø¥Ø³ØªÙˆÙ†ÙŠØ§', code: '+372' }, { name: 'Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§', code: '+251' },
             { name: 'Ø¬Ø²Ø± ÙÙˆÙƒÙ„Ø§Ù†Ø¯ (Ù…Ø§Ù„ÙÙŠÙ†Ø§Ø³)', code: '+500' }, { name: 'Ø¬Ø²Ø± ÙØ§Ø±Ùˆ', code: '+298' }, { name: 'ÙÙŠØ¬ÙŠ', code: '+679' },
             { name: 'ÙÙ†Ù„Ù†Ø¯Ø§', code: '+358' }, { name: 'ÙØ±Ù†Ø³Ø§', code: '+33' }, { name: 'ØºÙŠØ§Ù†Ø§ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©', code: '+594' },
             { name: 'Ø¨ÙˆÙ„ÙŠÙ†ÙŠØ²ÙŠØ§ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©', code: '+689' }, { name: 'Ø§Ù„ØºØ§Ø¨ÙˆÙ†', code: '+241' }, { name: 'ØºØ§Ù…Ø¨ÙŠØ§', code: '+220' },
             { name: 'Ø¬ÙˆØ±Ø¬ÙŠØ§', code: '+995' }, { name: 'Ø£Ù„Ù…Ø§Ù†ÙŠØ§', code: '+49' }, { name: 'ØºØ§Ù†Ø§', code: '+233' },
             { name: 'Ø¬Ø¨Ù„ Ø·Ø§Ø±Ù‚', code: '+350' }, { name: 'Ø§Ù„ÙŠÙˆÙ†Ø§Ù†', code: '+30' }, { name: 'ØºØ±ÙŠÙ†Ù„Ø§Ù†Ø¯', code: '+299' },
             { name: 'ØºØ±ÙŠÙ†Ø§Ø¯Ø§', code: '+1473' }, { name: 'ØºÙˆØ§Ø¯Ù„ÙˆØ¨', code: '+590' }, { name: 'ØºÙˆØ§Ù…', code: '+1671' },
             { name: 'ØºÙˆØ§ØªÙŠÙ…Ø§Ù„Ø§', code: '+502' }, { name: 'ØºÙŠØ±Ù†Ø²ÙŠ', code: '+44' }, { name: 'ØºÙŠÙ†ÙŠØ§', code: '+224' },
             { name: 'ØºÙŠÙ†ÙŠØ§ Ø¨ÙŠØ³Ø§Ùˆ', code: '+245' }, { name: 'ØºÙŠØ§Ù†Ø§', code: '+592' }, { name: 'Ù‡Ø§ÙŠØªÙŠ', code: '+509' },
             { name: 'Ø§Ù„ÙØ§ØªÙŠÙƒØ§Ù†', code: '+379' }, { name: 'Ù‡Ù†Ø¯ÙˆØ±Ø§Ø³', code: '+504' }, { name: 'Ù‡ÙˆÙ†Øº ÙƒÙˆÙ†Øº', code: '+852' },
             { name: 'Ø§Ù„Ù…Ø¬Ø±', code: '+36' }, { name: 'Ø¢ÙŠØ³Ù„Ù†Ø¯Ø§', code: '+354' }, { name: 'Ø§Ù„Ù‡Ù†Ø¯', code: '+91' },
             { name: 'Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ§', code: '+62' }, { name: 'Ø¥ÙŠØ±Ø§Ù†', code: '+98' }, { name: 'Ø§Ù„Ø¹Ø±Ø§Ù‚', code: '+964' },
             { name: 'Ø£ÙŠØ±Ù„Ù†Ø¯Ø§', code: '+353' }, { name: 'Ø¬Ø²ÙŠØ±Ø© Ù…Ø§Ù†', code: '+44' }, { name: 'Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„', code: '+972' },
             { name: 'Ø¥ÙŠØ·Ø§Ù„ÙŠØ§', code: '+39' }, { name: 'Ø¬Ø§Ù…Ø§ÙŠÙƒØ§', code: '+1876' }, { name: 'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†', code: '+81' },
             { name: 'Ø¬ÙŠØ±Ø²ÙŠ', code: '+44' }, { name: 'Ø§Ù„Ø£Ø±Ø¯Ù†', code: '+962' }, { name: 'ÙƒØ§Ø²Ø§Ø®Ø³ØªØ§Ù†', code: '+7' },
             { name: 'ÙƒÙŠÙ†ÙŠØ§', code: '+254' }, { name: 'ÙƒÙŠØ±ÙŠØ¨Ø§ØªÙŠ', code: '+686' }, { name: 'Ø§Ù„ÙƒÙˆÙŠØª', code: '+965' },
             { name: 'Ù‚ÙŠØ±ØºÙŠØ²Ø³ØªØ§Ù†', code: '+996' }, { name: 'Ù„Ø§ÙˆØ³', code: '+856' }, { name: 'Ù„Ø§ØªÙÙŠØ§', code: '+371' },
             { name: 'Ù„Ø¨Ù†Ø§Ù†', code: '+961' }, { name: 'Ù„ÙŠØ³ÙˆØªÙˆ', code: '+266' }, { name: 'Ù„ÙŠØ¨ÙŠØ±ÙŠØ§', code: '+231' },
             { name: 'Ù„ÙŠØ¨ÙŠØ§', code: '+218' }, { name: 'Ù„ÙŠØ®ØªÙ†Ø´ØªØ§ÙŠÙ†', code: '+423' }, { name: 'Ù„ÙŠØªÙˆØ§Ù†ÙŠØ§', code: '+370' },
             { name: 'Ù„ÙˆÙƒØ³Ù…Ø¨ÙˆØ±Øº', code: '+352' }, { name: 'Ù…Ø§ÙƒØ§Ùˆ', code: '+853' }, { name: 'Ù…Ù‚Ø¯ÙˆÙ†ÙŠØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©', code: '+389' },
             { name: 'Ù…Ø¯ØºØ´Ù‚Ø±', code: '+261' }, { name: 'Ù…Ø§Ù„Ø§ÙˆÙŠ', code: '+265' }, { name: 'Ù…Ø§Ù„ÙŠØ²ÙŠØ§', code: '+60' },
             { name: 'Ø§Ù„Ù…Ø§Ù„Ø¯ÙŠÙ', code: '+960' }, { name: 'Ù…Ø§Ù„ÙŠ', code: '+223' }, { name: 'Ù…Ø§Ù„Ø·Ø§', code: '+356' },
             { name: 'Ø¬Ø²Ø± Ù…Ø§Ø±Ø´Ø§Ù„', code: '+692' }, { name: 'Martinique', code: '+596' }, { name: 'Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§', code: '+222' },
             { name: 'Ù…ÙˆØ±ÙŠØ´ÙŠÙˆØ³', code: '+230' }, { name: 'Ù…Ø§ÙŠÙˆØª', code: '+262' }, { name: 'Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ', code: '+52' },
             { name: 'ÙˆÙ„Ø§ÙŠØ§Øª Ù…ÙŠÙƒØ±ÙˆÙ†ÙŠØ³ÙŠØ§ Ø§Ù„Ù…ØªØ­Ø¯Ø©', code: '+691' }, { name: 'Ù…ÙˆÙ„Ø¯ÙˆÙØ§', code: '+373' }, { name: 'Ù…ÙˆÙ†Ø§ÙƒÙˆ', code: '+377' },
             { name: 'Ù…Ù†ØºÙˆÙ„ÙŠØ§', code: '+976' }, { name: 'Ù…Ù†ØºÙˆÙ„ÙŠØ§', code: '+992' }, { name: 'Ø¨Ø§Ù„Ø§Ùˆ', code: '+680' }, { name: 'ÙÙ„Ø³Ø·ÙŠÙ†', code: '+970' },
             { name: 'Ø¨Ù†Ù…Ø§', code: '+507' }, { name: 'Ø¨Ø§Ø¨ÙˆØ§ ØºÙŠÙ†ÙŠØ§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©', code: '+675' }, { name: 'Ø¨Ø§Ø±Ø§ØºÙˆØ§ÙŠ', code: '+675' },
             { name: 'Ø¨ÙŠØ±Ùˆ', code: '+51' }, { name: 'Ø§Ù„ÙÙ„Ø¨ÙŠÙ†', code: '+63' }, { name: 'Ø¬Ø²Ø± Ø¨ÙŠØªÙƒÙŠØ±Ù†', code: '+64' },
             { name: 'Ø¨ÙˆÙ„Ù†Ø¯Ø§', code: '+48' }, { name: 'Ø§Ù„Ø¨Ø±ØªØºØ§Ù„', code: '+351' }, { name: 'Ø¨ÙˆØ±ØªÙˆØ±ÙŠÙƒÙˆ', code: '+1787' },
             { name: 'Ù‚Ø·Ø±', code: '+974' }, { name: 'Ø±ÙˆÙ…Ø§Ù†ÙŠØ§', code: '+40' }, { name: 'Ø±ÙˆØ³ÙŠØ§', code: '+7' },
             { name: 'Ø±ÙˆØ§Ù†Ø¯Ø§', code: '+250' }, { name: 'Ø±ÙˆÙ†ÙŠÙˆÙ†', code: '+262' }, { name: 'Ø³Ø§Ù† Ø¨Ø§Ø±ØªÙŠÙ„ÙŠÙ…ÙŠ', code: '+590' },
             { name: 'Ø³Ø§Ù†Øª Ù‡ÙŠÙ„ÙŠÙ†Ø§', code: '+290' }, { name: 'Ø³Ø§Ù†Øª ÙƒÙŠØªØ³ ÙˆÙ†ÙŠÙÙŠØ³', code: '+1869' }, { name: 'Ø³Ø§Ù†Øª ÙƒÙŠØªØ³ ÙˆÙ†ÙŠÙÙŠØ³', code: '+1758' },
             { name: 'Ø³Ø§Ù†Øª Ù…Ø§Ø±ØªÙ† (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ÙØ±Ù†Ø³ÙŠ)', code: '+590' }, { name: 'Ø³Ø§Ù† Ø¨ÙŠÙŠØ± ÙˆÙ…ÙŠÙƒÙ„ÙˆÙ†', code: '+508' },
             { name: 'Ø³Ø§Ù†Øª ÙÙ†Ø³Ù†Øª ÙˆØ§Ù„ØºØ±ÙŠÙ†Ø§Ø¯ÙŠÙ†', code: '+1784' }, { name: 'Ø³Ø§Ù…ÙˆØ§ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©', code: '+684' },
             { name: 'Ø³Ø§Ù† Ù…Ø§Ø±ÙŠÙ†Ùˆ', code: '+378' }, { name: 'Ø³Ø§Ùˆ ØªÙˆÙ…ÙŠ ÙˆØ¨Ø±ÙŠÙ†Ø³ÙŠØ¨', code: '+239' }, { name: 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', code: '+966' }, { name: 'ØµØ±Ø¨ÙŠØ§', code: '+381' }, { name: 'Ø³ÙŠÙ†Øª Ù…Ø§Ø±ØªÙ† (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù‡ÙˆÙ„Ù†Ø¯ÙŠ)', code: '+1721' },
             { name: 'Ø³Ù„ÙˆÙØ§ÙƒÙŠØ§', code: '+421' }, { name: 'Ø³Ù„ÙˆÙÙŠÙ†ÙŠØ§', code: '+386' }, { name: 'Ø¬Ø²Ø± Ø³Ù„ÙŠÙ…Ø§Ù†', code: '+677' },
             { name: 'Ø§Ù„ØµÙˆÙ…Ø§Ù„', code: '+252' }, { name: 'Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§', code: '+27' }, { name: 'ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©', code: '+82' },
             { name: 'Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†', code: '+211' }, { name: 'Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§', code: '+34' }, { name: 'Ø³Ø±ÙŠÙ„Ø§Ù†ÙƒØ§', code: '+94' },
             { name: 'Ø§Ù„Ø³ÙˆØ¯Ø§Ù†', code: '+249' }, { name: 'Ø³ÙˆØ±ÙŠÙ†Ø§Ù…', code: '+597' }, { name: 'Ø³ÙØ§Ù„Ø¨Ø§Ø±Ø¯ ÙˆØ¬Ø§Ù† Ù…Ø§ÙŠÙ†', code: '+47' },
             { name: 'Ø¥Ø³ÙˆØ§ØªÙŠÙ†ÙŠ', code: '+268' }, { name: 'ØªØ§ÙŠÙˆØ§Ù†', code: '+886' }, { name: 'Ø·Ø§Ø¬ÙŠÙƒØ³ØªØ§Ù†', code: '+992' },
             { name: 'ØªÙ†Ø²Ø§Ù†ÙŠØ§', code: '+255' }, { name: 'ØªØ§ÙŠÙ„Ø§Ù†Ø¯', code: '+66' }, { name: 'ØªÙŠÙ…ÙˆØ± Ø§Ù„Ø´Ø±Ù‚ÙŠØ©', code: '+670' },
             { name: 'ØªÙˆØºÙˆ', code: '+228' }, { name: 'ØªÙˆÙƒÙ„Ø§Ùˆ', code: '+690' }, { name: 'ØªÙˆÙ†ØºØ§', code: '+676' },
             { name: 'ØªÙˆÙ†Ø³', code: '+216' }, { name: 'ØªØ±ÙƒÙŠØ§', code: '+90' }, { name: 'ØªØ±ÙƒÙ…Ø§Ù†Ø³ØªØ§Ù†', code: '+993' },
             { name: 'Ø¬Ø²Ø± ØªÙˆØ±ÙƒØ³ ÙˆÙƒØ§ÙŠÙƒÙˆØ³', code: '+1649' }, { name: 'ØªÙˆÙØ§Ù„Ùˆ', code: '+688' }, { name: 'Ø£ÙˆØºÙ†Ø¯Ø§', code: '+256' },
             { name: 'Ø£ÙˆÙƒØ±Ø§Ù†ÙŠØ§', code: '+380' }, { name: 'Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©', code: '+971' }, { name: 'Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©', code: '+44' },
             { name: 'Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©', code: '+1' }, { name: 'Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ', code: '+598' }, { name: 'Ø£ÙˆØ²Ø¨ÙƒØ³ØªØ§Ù†', code: '+998' },
             { name: 'ÙØ§Ù†ÙˆØ§ØªÙˆ', code: '+678' }, { name: 'ÙÙ†Ø²ÙˆÙŠÙ„Ø§', code: '+58' }, { name: 'ÙÙŠØªÙ†Ø§Ù…', code: '+84' },
             { name: 'Ø¬Ø²Ø± ÙÙŠØ±Ø¬Ù† Ø§Ù„Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ©', code: '+1284' }, { name: 'Ø¬Ø²Ø± ÙÙŠØ±Ø¬Ù† Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©', code: '+1340' },
             { name: 'ÙˆØ§Ù„ÙŠØ³ ÙˆÙÙˆØªÙˆÙ†Ø§', code: '+681' }, { name: 'Ø§Ù„ÙŠÙ…Ù†', code: '+967' }, { name: 'Ø²Ø§Ù…Ø¨ÙŠØ§', code: '+260' },
             { name: 'Ø²ÙŠÙ…Ø¨Ø§Ø¨ÙˆÙŠ', code: '+263' }
        ];

        // --- Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª ---
        document.addEventListener("DOMContentLoaded", function() {
            initCountryCodeDropdown(); // ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙˆÙ„

            const phoneInput = document.getElementById('phone-number');
            phoneInput.addEventListener('input', function(e) {
                let value = e.target.value;
                if (value.startsWith('0')) {
                    e.target.value = value.substring(1);
                }
            });

            const selector = document.getElementById('course-selector');
            fetch(CSV_SHEET_URL).then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.text();
            }).then(csvText => {
                coursesDB = parseCSV(csvText);
                populateCourseDropdown();
                selector.disabled = false;
            }).catch(error => {
                console.error('Error fetching courses:', error);
                selector.innerHTML = '<option value="" disabled selected>ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©!</option>';
                selector.disabled = true;
                 const alertDiv = document.createElement('div');
                 alertDiv.className = 'alert alert-danger mt-3';
                 alertDiv.innerHTML = `<i class="fas fa-exclamation-circle"></i> Ø¹Ø°Ø±Ù‹Ø§ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.`;
                 selector.parentNode.appendChild(alertDiv);
            });
        });


        function initCountryCodeDropdown() {
             const searchInput = document.getElementById('country-code-search');
             const hiddenInput = document.getElementById('country-code-value');
             const listElement = document.getElementById('country-list');
             let activeOptionIndex = -1;

             function populateList() {
                 countries.forEach((country, index) => {
                     const li = document.createElement('li');
                     li.textContent = `${country.name} (${country.code})`;
                     li.dataset.code = country.code;
                     li.dataset.name = country.name;
                     li.setAttribute('role', 'option');
                     li.id = `country-option-${index}`;
                     listElement.appendChild(li);
                 });
             }

             function setDefaultCountry() {
                 const defaultCountry = countries.find(c => c.code === '+962');
                 if (defaultCountry) {
                     searchInput.value = `${defaultCountry.name} (${defaultCountry.code})`;
                     hiddenInput.value = defaultCountry.code;
                 }
             }

             function filterList() {
                 const searchTerm = searchInput.value.toLowerCase().replace(/[()+-\s]/g, '');
                 const items = listElement.getElementsByTagName('li');
                 let hasResults = false;
                 activeOptionIndex = -1;

                 for (const item of items) {
                     const itemName = item.dataset.name.toLowerCase();
                     const itemCode = item.dataset.code.replace(/[+]/g, '');
                     if (itemName.includes(searchTerm) || itemCode.includes(searchTerm)) {
                         item.style.display = 'block';
                         hasResults = true;
                     } else {
                         item.style.display = 'none';
                     }
                 }
                 listElement.style.display = hasResults ? 'block' : 'none';
                 searchInput.setAttribute('aria-expanded', hasResults);
             }

             function selectCountry(e) {
                 if (e.target && e.target.tagName === 'LI') {
                     const code = e.target.dataset.code;
                     const name = e.target.dataset.name;
                     searchInput.value = `${name} (${code})`;
                     hiddenInput.value = code;
                     listElement.style.display = 'none';
                     searchInput.setAttribute('aria-expanded', 'false');
                 }
             }
             
             function showList() {
                 const items = listElement.getElementsByTagName('li');
                 for (const item of items) {
                     item.style.display = 'block';
                 }
                 listElement.style.display = 'block';
                 searchInput.setAttribute('aria-expanded', 'true');
             }

             function closeListIfClickedOutside(e) {
                 if (!e.target.closest('.custom-country-code-dropdown')) {
                     listElement.style.display = 'none';
                     searchInput.setAttribute('aria-expanded', 'false');
                 }
             }

             // Keyboard navigation
             searchInput.addEventListener('keydown', function(e) {
                 const visibleOptions = Array.from(listElement.querySelectorAll('li[style="display: block;"], li:not([style])'));
                 if (e.key === 'ArrowDown') {
                     e.preventDefault();
                     if (listElement.style.display === 'none') showList();
                     activeOptionIndex = (activeOptionIndex + 1) % visibleOptions.length;
                     visibleOptions[activeOptionIndex].focus();
                 } else if (e.key === 'ArrowUp') {
                     e.preventDefault();
                     if (listElement.style.display === 'none') showList();
                     activeOptionIndex = (activeOptionIndex - 1 + visibleOptions.length) % visibleOptions.length;
                     visibleOptions[activeOptionIndex].focus();
                 } else if (e.key === 'Enter' || e.key === 'Tab') {
                     if (document.activeElement.role === 'option') {
                         e.preventDefault();
                         selectCountry({ target: document.activeElement });
                         searchInput.focus();
                     }
                 } else if (e.key === 'Escape') {
                     listElement.style.display = 'none';
                     searchInput.setAttribute('aria-expanded', 'false');
                 }
             });

             populateList();
             setDefaultCountry();

             searchInput.addEventListener('input', filterList);
             searchInput.addEventListener('focus', showList);
             listElement.addEventListener('click', selectCountry);
             document.addEventListener('click', closeListIfClickedOutside);
        }


        function parseCSV(text) {
            const courses = {};
            const lines = text.split(/\r?\n/);

            if (lines.length < 2) return {};

            const headers = lines[0].split(',').map(h => h.trim());
            const idIndex = headers.indexOf('id');
            const nameIndex = headers.indexOf('name');
            const dateIndex = headers.indexOf('date');
            const basePriceIndex = headers.indexOf('basePrice');
            const cpdFeeIndex = headers.indexOf('cpdFee');
            const statusIndex = headers.indexOf('status');
            const facebookLinkIndex = headers.indexOf('facebookLink');
            const instructorIndex = headers.indexOf('instructor');
            const cpdPointsIndex = headers.indexOf('cpdPoints');

            for (let i = 1; i < lines.length; i++) {
                if (!lines[i]) continue;
                const data = lines[i].split(',');

                if (data.length > statusIndex && data[statusIndex] && data[statusIndex] && data[statusIndex].trim().toLowerCase() === 'active') {
                    const id = data[idIndex] ? data[idIndex].trim() : `course_${i}`;
                    const name = data[nameIndex] ? data[nameIndex].trim() : 'N/A';
                    const date = data[dateIndex] ? data[dateIndex].trim() : 'N/A';
                    const basePrice = data[basePriceIndex] ? parseInt(data[basePriceIndex].trim()) : 0;
                    const cpdFee = data[cpdFeeIndex] ? parseInt(data[cpdFeeIndex].trim()) : 0;
                    const facebookLink = data[facebookLinkIndex] ? data[facebookLinkIndex].trim() : '';
                    const instructor = data[instructorIndex] ? data[instructorIndex].trim() : '';
                    const cpdPoints = data[cpdPointsIndex] ? parseInt(data[cpdPointsIndex].trim()) : 0;

                    courses[id] = {
                        name: name, date: date, currency: "Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠ", basePrice: basePrice,
                        cpdFee: cpdFee, facebookLink: facebookLink, instructor: instructor, cpdPoints: cpdPoints
                    };
                }
            }
            return courses;
        }

        function populateCourseDropdown() {
            const selector = document.getElementById('course-selector');
            selector.innerHTML = '<option value="" disabled selected>-- Ø§Ø®ØªØ± ÙØ¹Ø§Ù„ÙŠØ© ØªØ¯Ø±ÙŠØ¨ÙŠØ© --</option>';
            let courseCount = 0;
            for (const id in coursesDB) {
                const option = document.createElement('option');
                option.value = id;
                option.textContent = coursesDB[id].name;
                selector.appendChild(option);
                courseCount++;
            }
            if (courseCount === 0) {
                 selector.innerHTML = '<option value="" disabled selected>-- Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ¹Ø§Ù„ÙŠØ§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹ --</option>';
            }
        }

        function onCourseSelect() {
            const selector = document.getElementById('course-selector');
            const courseId = selector.value;
            const fieldsWrapper = document.getElementById('registration-fields');
            const detailsDisplay = document.getElementById('course-details-display');

            if (courseId && coursesDB[courseId]) {
                currentCourse = coursesDB[courseId];
                loadCourseData(currentCourse);
                fieldsWrapper.style.display = 'block';
            } else {
                fieldsWrapper.style.display = 'none';
                // The placeholder text has been removed as requested
                detailsDisplay.innerHTML = '';
            }
        }

        function loadCourseData(course) {
            let detailsHTML = `Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ ÙØ¹Ø§Ù„ÙŠØ© ØªØ¯Ø±ÙŠØ¨ÙŠØ© <strong>${course.name}</strong><br><small>(${course.date})</small>`;
            if (course.instructor) {
                 detailsHTML += `<span class="instructor-name"><i class="fas fa-chalkboard-teacher me-1"></i> Ø§Ù„Ù…Ø¯Ø±Ø¨: ${course.instructor}</span>`;
            }
            if (course.cpdPoints > 0) {
                detailsHTML += `<span class="cpd-points-display"><i class="fas fa-award me-1"></i> ${course.cpdPoints} Ù†Ù‚Ø·Ø© CPD Ù…Ø¹ØªÙ…Ø¯Ø©</span>`;
            }
            if (course.facebookLink && course.facebookLink.startsWith('http')) {
                detailsHTML += `<a href="${course.facebookLink}" target="_blank" class="brand-green mt-1 d-block"><i class="fab fa-facebook me-2"></i> Ù…Ø´Ø§Ù‡Ø¯Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ</a>`;
            }
            document.getElementById('course-details-display').innerHTML = detailsHTML;
            document.getElementById('total-fee').innerText = `${course.basePrice} ${course.currency}`;
            document.getElementById('cpd-fee-display').innerText = course.cpdFee;
            document.getElementById('course-id-input').value = course.name;
            document.getElementById('cpd').value = 'Ù„Ø§';
            toggleCPDFields('Ù„Ø§');
        }

        function toggleCPDFields(value) {
            const cpdSection = document.getElementById('cpd-fields');
            const totalFee = document.getElementById('total-fee');
            if (value === 'Ù†Ø¹Ù…' && currentCourse) {
                cpdSection.style.display = 'block';
                totalFee.innerText = `${currentCourse.basePrice + currentCourse.cpdFee} ${currentCourse.currency}`;
            } else if(currentCourse) {
                cpdSection.style.display = 'none';
                totalFee.innerText = `${currentCourse.basePrice} ${currentCourse.currency}`;
            }
        }

        function toggleOtherNationality(value) {
            const otherField = document.getElementById('other-nationality-field');
            otherField.style.display = (value === 'Ø£Ø®Ø±Ù‰') ? 'block' : 'none';
        }

        function validateForm() {
             const fullNameAr = document.getElementById('fullNameAr').value.trim();
             const fullNameEn = document.getElementById('fullNameEn').value.trim();
             const email = document.getElementById('email').value.trim();
             const countryCodeInput = document.getElementById('country-code-search').value;
             const countryCodeValue = document.getElementById('country-code-value').value;
             const phoneNumber = document.getElementById('phone-number').value.trim();
             const terms = document.getElementById('terms').checked;
             const nationality = document.getElementById('nationality').value;
             const otherNationality = document.getElementById('other-nationality-field').querySelector('input').value.trim();
             const cpdRequest = document.getElementById('cpd').value;
             const nationalId = document.getElementById('nationalId').value.trim();
             const licenseNo = document.getElementById('licenseNo').value.trim();


             if (!/^[\u0600-\u06FF\s]+$/.test(fullNameAr)) {
                 alert('Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù Ø¹Ø±Ø¨ÙŠØ© ÙÙ‚Ø·.');
                 document.getElementById('fullNameAr').focus();
                 return false;
             }

             if (!/^[a-zA-Z\s]+$/.test(fullNameEn)) {
                 alert('The English name should contain only English letters.');
                 document.getElementById('fullNameEn').focus();
                 return false;
             }

             if (!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)) {
                 alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­.');
                 document.getElementById('email').focus();
                 return false;
             }

             if (!countries.some(c => `${c.name} (${c.code})` === countryCodeInput.trim() )) {
                  alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø±Ù…Ø² Ø¨Ù„Ø¯ ØµØ­ÙŠØ­ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.');
                  document.getElementById('country-code-search').focus();
                  return false;
             }

             if (!/^[1-9][0-9]{6,14}$/.test(phoneNumber)) {
                 alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ù…Ø­Ù„ÙŠ ØµØ­ÙŠØ­ (Ø¨Ø¯ÙˆÙ† Ø§Ù„ØµÙØ± ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©ØŒ Ù…Ø«Ù„ 79xxxxxxx).');
                 document.getElementById('phone-number').focus();
                 return false;
             }

             if (!nationality) {
                  alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ù†Ø³ÙŠØ©.');
                  document.getElementById('nationality').focus();
                  return false;
             }

             if (nationality === 'Ø£Ø®Ø±Ù‰' && !otherNationality) {
                 alert('ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø¨Ù„Ø¯ Ø§Ù„Ø¬Ù†Ø³ÙŠØ©.');
                 document.getElementById('other-nationality-field').querySelector('input').focus();
                 return false;
             }

             if (cpdRequest === 'Ù†Ø¹Ù…' && (!nationalId || !licenseNo)) {
                 alert('Ø¹Ù†Ø¯ Ø·Ù„Ø¨ Ø´Ù‡Ø§Ø¯Ø© CPDØŒ ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆØ±Ù‚Ù… Ø§Ù„Ù…Ø²Ø§ÙˆÙ„Ø©.');
                 if (!nationalId) document.getElementById('nationalId').focus();
                 else document.getElementById('licenseNo').focus();
                 return false;
             }


             if (!terms) {
                 alert('ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ù‡Ø¯ ÙˆØ§Ù„Ø¥Ù‚Ø±Ø§Ø± Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„.');
                 document.getElementById('terms').focus();
                 return false;
             }

             return true;
        }

        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();

            if (!validateForm()) {
                return;
            }

            const form = e.target;
            const data = new FormData(form);
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzo7yp-5tMCXf-WFbfJjh3gnNHLXnO-2sDAGQF8ZVysn4sKUUTTVotZvK81SSJ6dkcp/exec';
            const submitButton = form.querySelector('button[type="submit"]');

            const countryCode = document.getElementById('country-code-value').value;
            let phoneNumber = document.getElementById('phone-number').value.trim();
            const fullPhoneNumber = countryCode + phoneNumber;
            data.set('WhatsApp', fullPhoneNumber);
            data.delete('CountryCode');
            data.delete('Phone Number');


            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ...';

            fetch(scriptURL, { method: 'POST', body: data })
            .then(response => {
                console.log('Success!', response);
                const userEmail = document.getElementById('email').value;

                const successAlert = document.createElement('div');
                successAlert.className = 'alert alert-success';
                successAlert.setAttribute('role', 'status');
                successAlert.innerHTML = `
                    <h4 class="alert-heading"><i class="fas fa-check-circle"></i> ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!</h4>
                    <p>Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ ÙØ¹Ø§Ù„ÙŠØ© ØªØ¯Ø±ÙŠØ¨ÙŠØ© <strong>${currentCourse.name}</strong>.</p>
                    <p class="mb-0"><strong>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØªØ£ÙƒÙŠØ¯ÙŠ Ø¥Ù„Ù‰ ${userEmail}.</strong> ÙŠØ±Ø¬Ù‰ ÙØ­Øµ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯ ÙˆØ§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…Ø²Ø¹Ø¬ (Spam) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹.</p>
                `;

                document.getElementById('registration-section').style.display = 'none';
                const paymentSection = document.getElementById('payment-section');
                paymentSection.style.display = 'block';
                 paymentSection.insertBefore(successAlert, paymentSection.firstChild);
                window.scrollTo(0, 0);
            })
            .catch(error => {
                console.error('Fetch Error!', error.message);
                submitButton.disabled = false;
                submitButton.textContent = 'Ø£Ø±Ø³Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙŠ ÙˆØ§Ø¹Ø±Ø¶ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹';
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
            });
        });

    </script>
</body>
</html>
